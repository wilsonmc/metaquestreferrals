Well this goes to show you that you should do more testing on your code first. Turns out this script is not as simple as I had initially thought and would reply on using something like selenium to login to the referral page and check the code as all non logged in users always show 25% the app, UNTIL you log and you see the real %. I don't want to get into logging in and scraping the pages so I'd going to give up on this for now.
